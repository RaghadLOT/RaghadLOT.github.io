<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="BB.css">
    <title>Course Enrolment</title>
    <style>
       

        h1 {
            text-align: center;
        }
        h3{
            
    font-size: 20px;
    color: #980089;
    margin-bottom: 10px;
    display: inline;
    
    }
    

        form {
            max-width: 30px;
            margin: 0 auto;
        }

        label, select, img {
            display: block;
            margin-bottom: 1px;
        }

        input[type="checkbox"] {
            display: inline-block;
            vertical-align: middle;
            margin-bottom: 0;
        }
       
        .label{
            font-family:'Agency FB','sans-serif';
            float: center;
        }
        .Course{
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 400px;
    gap:1.5rem;
    margin-left: 3em;
    margin-right: 3em;
  }
  .Course .boox{
    height: 300px;
    width: 340px;
    margin: 30px;
    /* flex:1 1 30rem; */
    border-radius: .5rem;
    border:2px solid #3f283e;
    padding:1rem;
    position: relative;
  }
  
  .Course .boox img{
    height:11em;
    width:14em;
    margin-bottom: 2.5em;
    margin-top: 0.5em;
    position: relative;
    border-radius: 70%;
    border: 100% solid white;
    border-color: white;
    
  }
                               
  
    </style>
</head>

<header>
    <div class="bannerMini"> 
        <div class="navbar"> <!--nav bar-->
         <a href="ByteBuddiesHome.html"><img src="photos/logohori.png" alt="ByteBuddies logo" class="logoMini"></a>
         <ul> 
             <li> <a href="Courses.html">Courses</a></li>
             <li> <a href="tutorspage.html">Tutors</a></li>
             <li> <a href="Parent-dash.html">Parent</a></li>
             <li> <a href="adminpage.html">Administrator</a></li>
         </ul>
        </div> <!--nav bar end-->
</header>

<main>

    <div class="bread" style="margin-top: -2rem; float: right;">
        <ul class="breadcrumb">
            <li><a href="ByteBuddiesHome.html">Home</a></li>
            <li><a href="Parent-dash.html">Parent</a></li>
            <li>Available Courses</li>
          </ul>
    </div>
</main>
<body>
    
           <br>
          
           <label for="childSelect">Select Child:</label>
           <select id="childSelect"></select>
         
     
           <label for="tutorFilter">Filter by Tutor:</label>
           <select onchange="filterCoursesByTutor(this.value)" id="tutorFilter"></select>
     
           <label for="prerequisiteFilter">Filter by Prerequisite:</label>
           <select
             onchange="filterCoursesAndTutorByprerequisite(this.value)"
             id="prerequisiteFilter"
           ></select>
    
    <form>
         
        
        
         <h3>Available Courses</h3>
         

         <section class="Course"> 
          <div id="courseCheckboxes" class="Course"></div>
          </section>

        
      
        <button type="button" onclick="submitForm()">Enrol</button>
        <div id="displayInfo"></div>
    </form>

    <section class="footer"> <!-- footer section  -->

        <div class="box-container">
    
            <div class="box">
    
                <h3>contact info</h3>
            <div class="contactUs">
                <p><i class="fas fa-phone"></i> +966 50000000 </p>
                <p><i class="fas fa-envelope"></i> +011 4879456 </p>
                <p><i class="fas fa-map-marker-alt"></i> Bytebuddies@info.com </p>
            </div>
            </div>
    
            <div class="box">
                
            <div class="followUs">
                <span class="icon"><a href="https://twitter.com/home"><img src="photos/Twitter.png" alt="twitter"></a></span>
                <span class="icon"><a href="https://www.instagram.com/"><img src="photos/instagram.png" alt="instagram"></a></span>
                <span class="icon"><a href="https://www.linkedin.com/feed/"><img src="photos/Linkedin.png" alt="linkedin"></a></span>
            </div>
            </div>
    
            <a href="ByteBuddiesHome.html"><img src="photos/logoBG.png" alt="ByteBuddies logo"></a>
    
        </div>
    
        <div class="credit">Â©2023 ByteBuddies. All rights reserved.</div>
    
    </section>
    <script>
      const children = JSON.parse(localStorage.getItem("children")) || [];
      const courses = [
        ["Game programming 1 with Python", "T.Maha", "", "photos/Course-2.png"],
        ["Game Programming 1 With Javascript", "T.Manal", "javascript", "photos/Course-3.png"],
        ["Game Programming 2 With Javascript", "T.Khalid", "Scrach", "photos/Course-4.png"],
        ["Scratch Catch the Cat!", "T.Lama", "C++", "photos/Course-5.png"],
        ["Scratch Fruit Slash", "T.Amal", "C#", "photos/Course-6.png"],
        ["Python is fun", "T.Fahad", "PHP", "photos/Course-1.png"],
        // ["Course8", "Tutor3", "Course7"],
        // ["Course9", "Tutor4", ""],
        // ["Course10", "Tutor5", ""],
        // Add more courses with tutors and prerequisites as needed...
      ];

      const childSelect = document.getElementById("childSelect");
      children.forEach((child) => {
        const option = document.createElement("option");
        option.value = child;
        option.textContent = child;
        childSelect.appendChild(option);
      });

      const courseCheckboxes = document.getElementById("courseCheckboxes");
      courses.forEach((course) => {
        const checkbox = document.createElement("input");
        const img = document.createElement("img");
        const h3= document.createElement("h3");
        const box = document.createElement("div");
        box.classList = "boox"
        checkbox.type = "checkbox";
        checkbox.value = course[0];
        checkbox.id = `courseCheckbox_${course[0]}`;

        img.src = course[3]
        const label = document.createElement("label");
        label.htmlFor = `courseCheckbox_${course[0]}`;
        label.textContent = course[0];
        h3.textContent = course[0];
        // courseCheckboxes.appendChild(checkbox);
        // courseCheckboxes.appendChild(img);
        // courseCheckboxes.appendChild(h3);
        box.appendChild(checkbox)
        box.appendChild(img)
        box.appendChild(h3);
        courseCheckboxes.appendChild(box)
        courseCheckboxes.appendChild(document.createElement("br"));
      });

      const tutorFilter = document.getElementById("tutorFilter");
      const prerequisiteFilter = document.getElementById("prerequisiteFilter");

      const tutors = [...new Set(courses.map((course) => course[1]))];
      tutors.forEach((tutor) => {
        const option = document.createElement("option");
        option.value = tutor;
        option.textContent = tutor;
        tutorFilter.appendChild(option);
      });

      const prerequisites = [...new Set(courses.map((course) => course[2]))];
      prerequisites.forEach((prerequisite) => {
        const option = document.createElement("option");
        option.value = prerequisite;
        option.textContent = prerequisite || "None";
        prerequisiteFilter.appendChild(option);
      });

      function filterCoursesByTutor(tutor) {
        console.log("fiter by tutor");
        courseCheckboxes.innerHTML = "";
        courses.forEach((course) => {
          if (course[1] === tutor) {
            const checkbox = document.createElement("input");
        const img = document.createElement("img");
        const h3= document.createElement("h3");
        const box = document.createElement("div");
        box.classList = "boox"
        checkbox.type = "checkbox";
        checkbox.value = course[0];
        checkbox.id = `courseCheckbox_${course[0]}`;

        img.src = course[3]
        const label = document.createElement("label");
        label.htmlFor = `courseCheckbox_${course[0]}`;
        label.textContent = course[0];
        h3.textContent = course[0];
        // courseCheckboxes.appendChild(checkbox);
        // courseCheckboxes.appendChild(img);
        // courseCheckboxes.appendChild(h3);
        box.appendChild(checkbox)
        box.appendChild(img)
        box.appendChild(h3);
        courseCheckboxes.appendChild(box)
        courseCheckboxes.appendChild(document.createElement("br"));
          }
        });
      }

      function filterCoursesAndTutorByprerequisite(prerequisite) {
        const tutor = document.getElementById("tutorFilter").value;
        console.log("fiter by tutor");
        courseCheckboxes.innerHTML = "";
        courses.forEach((course) => {
          if (course[1] === tutor && course[2] === prerequisite) {
            const checkbox = document.createElement("input");
        const img = document.createElement("img");
        const h3= document.createElement("h3");
        const box = document.createElement("div");
        box.classList = "boox"
        checkbox.type = "checkbox";
        checkbox.value = course[0];
        checkbox.id = `courseCheckbox_${course[0]}`;

        img.src = course[3]
        const label = document.createElement("label");
        label.htmlFor = `courseCheckbox_${course[0]}`;
        label.textContent = course[0];
        h3.textContent = course[0];
        // courseCheckboxes.appendChild(checkbox);
        // courseCheckboxes.appendChild(img);
        // courseCheckboxes.appendChild(h3);
        box.appendChild(checkbox)
        box.appendChild(img)
        box.appendChild(h3);
        courseCheckboxes.appendChild(box)
        courseCheckboxes.appendChild(document.createElement("br"));
          }
        });
      }

      function submitForm() {
        const selectedChild = childSelect.value;
        const selectedCourses = Array.from(
          document.querySelectorAll('input[type="checkbox"]:checked'),
        ).map((checkbox) => checkbox.value);

        if (!selectedChild) {
          alert("Please select a child.");
          return;
        }
        if (selectedCourses.length === 0) {
          alert("Please select a course.");
          return;
        }

        const tutor = getTutor(selectedCourses[0]); // Assume all selected courses have the same tutor
        const prerequisite = getPrerequisite(selectedCourses[0]); // Assume all selected courses have the same prerequisite

        const displayInfo = document.getElementById("displayInfo");
        displayInfo.textContent = `Child: ${selectedChild}, Courses: ${selectedCourses.join(
          ", ",
        )}, Tutor: ${tutor}, Prerequisite: ${prerequisiteFilter.value? prerequisiteFilter.value: "none"}`;

        // Clear previous information
        // Clear form
        // Other logic as needed...
      }

      function getTutor(course) {
        const courseInfo = courses.find((c) => c[0] === course);
        return courseInfo ? courseInfo[1] : "N/A";
      }

      function getPrerequisite(course) {
        const courseInfo = courses.find((c) => c[0] === course);
        return courseInfo ? courseInfo[2] || "None" : "N/A";
      }
    </script>
</body>
</html>